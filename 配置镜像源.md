# ModelScope é•œåƒæºé…ç½®æŒ‡å—

å¦‚æžœåœ¨ä¸­å›½å¤§é™†ä¸‹è½½æ¨¡åž‹æ—¶é‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¯ä»¥é…ç½®é•œåƒæºä»¥åŠ é€Ÿä¸‹è½½ã€‚

## âš¡ å¿«é€Ÿé…ç½®ï¼ˆä¸€é”®è„šæœ¬ï¼‰

**Linux/macOS:**
```bash
./setup_mirrors.sh
```

**Windows:**
```cmd
setup_mirrors.bat
```

è¿è¡ŒåŽä¼šè‡ªåŠ¨é…ç½® pip å’Œ ModelScope çš„é•œåƒæºã€‚

## ðŸš€ å¿«é€Ÿä½¿ç”¨

### æ–¹æ³• 1: ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼ˆæŽ¨èï¼‰

```bash
python download_model.py --model small --mirror
```

### æ–¹æ³• 2: è®¾ç½®çŽ¯å¢ƒå˜é‡

**Linux/macOS:**
```bash
export MODELSCOPE_ENVIRONMENT=cn
python download_model.py --model small
```

**Windows (CMD):**
```cmd
set MODELSCOPE_ENVIRONMENT=cn
python download_model.py --model small
```

**Windows (PowerShell):**
```powershell
$env:MODELSCOPE_ENVIRONMENT="cn"
python download_model.py --model small
```

### æ–¹æ³• 3: æ°¸ä¹…é…ç½®çŽ¯å¢ƒå˜é‡

**Linux/macOS:**
```bash
# æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
echo 'export MODELSCOPE_ENVIRONMENT=cn' >> ~/.bashrc
source ~/.bashrc
```

**Windows:**
1. å³é”®"æ­¤ç”µè„‘" -> "å±žæ€§"
2. "é«˜çº§ç³»ç»Ÿè®¾ç½®" -> "çŽ¯å¢ƒå˜é‡"
3. æ–°å»ºç³»ç»Ÿå˜é‡ï¼š
   - å˜é‡å: `MODELSCOPE_ENVIRONMENT`
   - å˜é‡å€¼: `cn`

## ðŸ“‹ è¯¦ç»†è¯´æ˜Ž

### ModelScope é•œåƒæº

ModelScope ä¼šè‡ªåŠ¨æ£€æµ‹æ‚¨çš„ç½‘ç»œçŽ¯å¢ƒï¼š
- å¦‚æžœæ£€æµ‹åˆ°åœ¨ä¸­å›½å¤§é™†ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨å›½å†…é•œåƒ
- è®¾ç½® `MODELSCOPE_ENVIRONMENT=cn` å¯ä»¥å¼ºåˆ¶ä½¿ç”¨å›½å†…é•œåƒ

### å…¶ä»–åŠ é€Ÿæ–¹æ³•

#### 1. ä½¿ç”¨ä»£ç†

å¦‚æžœé•œåƒæºä»ç„¶å¾ˆæ…¢ï¼Œå¯ä»¥é…ç½®ä»£ç†ï¼š

**Linux/macOS:**
```bash
export HTTP_PROXY=http://proxy.example.com:8080
export HTTPS_PROXY=http://proxy.example.com:8080
python download_model.py --model small
```

**Windows:**
```cmd
set HTTP_PROXY=http://proxy.example.com:8080
set HTTPS_PROXY=http://proxy.example.com:8080
python download_model.py --model small
```

#### 2. ä½¿ç”¨ pip é•œåƒæºï¼ˆå®‰è£…ä¾èµ–æ—¶ï¼‰

```bash
# ä½¿ç”¨æ¸…åŽé•œåƒæº
pip install -r requirements.txt -i https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/

# æˆ–ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒæº
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/ --trusted-host=mirrors.aliyun.com
```

#### 3. æ‰‹åŠ¨ä¸‹è½½æ¨¡åž‹

å¦‚æžœè‡ªåŠ¨ä¸‹è½½ä¸€ç›´å¤±è´¥ï¼Œå¯ä»¥ï¼š

1. è®¿é—® ModelScope ç½‘ç«™æ‰‹åŠ¨ä¸‹è½½ï¼š
   - https://www.modelscope.cn/models/iic/SenseVoiceSmall

2. ä¸‹è½½åŽè§£åŽ‹åˆ° `./models/iic/SenseVoiceSmall/` ç›®å½•

## ðŸ” æ•…éšœæŽ’æŸ¥

### é—®é¢˜ 1: ä¸‹è½½è¶…æ—¶

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å¢žåŠ è¶…æ—¶æ—¶é—´ï¼ˆåœ¨ä»£ç ä¸­å·²å¤„ç†ï¼‰
# æˆ–ä½¿ç”¨é•œåƒæº
python download_model.py --model small --mirror
```

### é—®é¢˜ 2: è¿žæŽ¥è¢«æ‹’ç»

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
2. å°è¯•ä½¿ç”¨ä»£ç†
3. ä½¿ç”¨é•œåƒæº

### é—®é¢˜ 3: SSL è¯ä¹¦é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# ä¸´æ—¶ç¦ç”¨ SSL éªŒè¯ï¼ˆä¸æŽ¨èï¼Œä»…ç”¨äºŽæµ‹è¯•ï¼‰
export PYTHONHTTPSVERIFY=0
python download_model.py --model small
```

### é—®é¢˜ 4: ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢

**è§£å†³æ–¹æ¡ˆï¼š**
1. ä½¿ç”¨ `--mirror` å‚æ•°
2. é…ç½®ä»£ç†
3. åœ¨ç½‘ç»œè¾ƒå¥½çš„æ—¶æ®µä¸‹è½½

## ðŸ“ å®Œæ•´ç¤ºä¾‹

### ç¤ºä¾‹ 1: ä½¿ç”¨é•œåƒæºä¸‹è½½

```bash
# æ–¹æ³• 1: å‘½ä»¤è¡Œå‚æ•°
python download_model.py --model small --mirror

# æ–¹æ³• 2: çŽ¯å¢ƒå˜é‡
export MODELSCOPE_ENVIRONMENT=cn
python download_model.py --model small
```

### ç¤ºä¾‹ 2: åœ¨è„šæœ¬ä¸­ä½¿ç”¨

```python
import os
os.environ['MODELSCOPE_ENVIRONMENT'] = 'cn'
from download_model import download_model

download_model("small", "./models")
```

## ðŸŒ æŽ¨èçš„å›½å†…é•œåƒæº

### ModelScope é•œåƒæº

ModelScope ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨å›½å†…é•œåƒï¼Œä¹Ÿå¯ä»¥é€šè¿‡çŽ¯å¢ƒå˜é‡é…ç½®ï¼š

```bash
# ä½¿ç”¨å›½å†…é•œåƒï¼ˆæŽ¨èï¼‰
export MODELSCOPE_ENVIRONMENT=cn
```

**é•œåƒåœ°å€ï¼š**
- ä¸»ç«™: https://www.modelscope.cn
- CDN: è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹ï¼ˆé˜¿é‡Œäº‘ CDNï¼‰

### pip é•œåƒæºï¼ˆå®‰è£… Python åŒ…æ—¶ä½¿ç”¨ï¼‰

**1. æ¸…åŽå¤§å­¦é•œåƒï¼ˆæŽ¨èï¼Œé€Ÿåº¦å¿«ï¼‰**
```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

**2. é˜¿é‡Œäº‘é•œåƒ**
```bash
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/ --trusted-host=mirrors.aliyun.com
```

**3. ä¸­ç§‘å¤§é•œåƒ**
```bash
pip install -r requirements.txt -i https://pypi.mirrors.ustc.edu.cn/simple/
```

**4. è±†ç“£é•œåƒ**
```bash
pip install -r requirements.txt -i https://pypi.douban.com/simple/ --trusted-host=pypi.douban.com
```

**5. åŽä¸ºäº‘é•œåƒ**
```bash
pip install -r requirements.txt -i https://mirrors.huaweicloud.com/repository/pypi/simple/
```

### æ°¸ä¹…é…ç½® pip é•œåƒæº

**Linux/macOS:**
```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
mkdir -p ~/.pip
cat > ~/.pip/pip.conf << EOF
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple/
[install]
trusted-host = pypi.tuna.tsinghua.edu.cn
EOF
```

**Windows:**
```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶ %APPDATA%\pip\pip.ini
# å†…å®¹ï¼š
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple/
[install]
trusted-host = pypi.tuna.tsinghua.edu.cn
```

æˆ–è€…ä½¿ç”¨å‘½ä»¤ï¼š
```cmd
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple/
pip config set global.trusted-host pypi.tuna.tsinghua.edu.cn
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡ä½¿ç”¨**: é¦–æ¬¡ä¸‹è½½éœ€è¦ç½‘ç»œè¿žæŽ¥ï¼Œä¸‹è½½å®ŒæˆåŽå¯ç¦»çº¿ä½¿ç”¨
2. **æ–‡ä»¶å¤§å°**: æ¨¡åž‹æ–‡ä»¶çº¦ 900MBï¼Œç¡®ä¿æœ‰è¶³å¤Ÿç©ºé—´
3. **ä¸‹è½½æ—¶é—´**: æ ¹æ®ç½‘é€Ÿï¼Œé€šå¸¸éœ€è¦ 5-15 åˆ†é’Ÿ
4. **æ–­ç‚¹ç»­ä¼ **: ModelScope æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå¦‚æžœä¸­æ–­å¯ä»¥é‡æ–°è¿è¡Œ

## ðŸ”— ç›¸å…³é“¾æŽ¥

- [ModelScope å®˜ç½‘](https://www.modelscope.cn)
- [SenseVoice æ¨¡åž‹é¡µé¢](https://www.modelscope.cn/models/iic/SenseVoiceSmall)
- [ModelScope æ–‡æ¡£](https://modelscope.cn/docs)

